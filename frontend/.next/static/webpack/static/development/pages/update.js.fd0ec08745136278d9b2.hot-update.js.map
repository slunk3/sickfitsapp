{"version":3,"file":"static/webpack/static/development/pages/update.js.fd0ec08745136278d9b2.hot-update.js","sources":["webpack:///./components/UpdateItem.js","webpack:///./pages/update.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { Mutation } from 'react-apollo';\nimport gql from 'graphql-tag';\nimport Router from 'next/router';\n\nimport Form from './styles/Form';\nimport formatMoney from '../lib/formatMoney';\nimport Error from './ErrorMessage';\n\nconst UPDATE_ITEM_MUTATION = gql`\n\tmutation UPDATE_ITEM_MUTATION (\n\t\t$title: String!\n\t\t$description: String!\n\t\t$price: Int!\n\t\t$image: String\n\t\t$largeImage: String\n\t){\n\t\tcreateItem(\n\t\t\ttitle: $title\n\t\t\tdescription: $description\n\t\t\timage: $image\n\t\t\tlargeImage: $largeImage\n\t\t\tprice: $price\n\t\t) {\n\t\t\tid\n\t\t}\n\t}\n`;\n\nclass UpdateItem extends Component {\n\tstate = {};\n\n\thandleChange = (e) => {\n\t\tconst { name, type, value } = e.target;\n\t\tconst val = type === 'number' ? parseFloat(value) : value;\n\t\tthis.setState({ [name]: val });\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Mutation mutation={UPDATE_ITEM_MUTATION} variables={this.state}>\n\t\t\t\t{(createItem, { loading, error }) => (\n\t\t\t\t\t<Form onSubmit={async e => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t//call mutation\n\t\t\t\t\t\tconst res = await createItem();\n\t\t\t\t\t\t// change them to the single item page\n\t\t\t\t\t\tRouter.push({\n\t\t\t\t\t\t\tpathname: '/item',\n\t\t\t\t\t\t\tquery: { id: res.data.createItem.id }\n\t\t\t\t\t\t})\n\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<Error error={error} />\n\t\t\t\t\t\t<fieldset disabled={loading} aria-busy={loading}>\n\n\t\t\t\t\t\t\t<label htmlFor=\"title\">\n\t\t\t\t\t\t\t\tTitle\n\t\t\t\t\t\t\t\t<input type=\"text\" id=\"title\" name=\"title\" placeholder=\"Title\" required value={this.state.title} onChange={this.handleChange} />\n\t\t\t\t\t\t\t</label>\n\n\t\t\t\t\t\t\t<label htmlFor=\"price\">\n\t\t\t\t\t\t\t\tPrice\n\t\t\t\t\t\t\t\t<input type=\"number\" id=\"price\" name=\"price\" placeholder=\"Price\" required value={this.state.price} onChange={this.handleChange} />\n\t\t\t\t\t\t\t</label>\n\n\t\t\t\t\t\t\t<label htmlFor=\"description\">\n\t\t\t\t\t\t\t\tDescription\n\t\t\t\t\t\t<textarea name=\"description\" id=\"description\" placeholder=\"enter a description\" required value={this.state.description} onChange={this.handleChange} />\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<button type=\"submit\">Submit</button>\n\t\t\t\t\t\t</fieldset>\n\t\t\t\t\t</Form>\n\t\t\t\t)}\n\t\t\t</Mutation>\n\t\t)\n\t}\n}\n\nexport default UpdateItem;\nexport { UPDATE_ITEM_MUTATION };\n","import UpdateItem from '../components/UpdateItem';\n\nconst Sell = ({ query }) => (\n\t<div>\n\t\t<UpdateItem id={query.id} />\n\t</div>\n);\n\nexport default Sell;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAmBA;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AACA;AACA;;;;;;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAFA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA7BA;AAmCA;;;;AA/CA;AACA;AAiDA;;;;;;;;;;;;;;;;;;;AC/EA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AACA;AAKA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}